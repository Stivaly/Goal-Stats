{"version":3,"file":"js/dashboard.805345c4.js","mappings":"+PACIA,EAAAA,EAAAA,IAEM,aADJC,EAAAA,EAAAA,IAAsBC,I,2CCF5BF,EAAAA,EAAAA,IAAAG,EAAAA,GAAA,mBACIC,EAAAA,EAAAA,IAAmB,UAAf,cAAU,KACdA,EAAAA,EAAAA,IAAgD,KAA7CC,GAAG,SAAUC,QAAKC,EAAA,KAAAA,EAAA,OAAAC,IAAEC,EAAAC,QAAAD,EAAAC,UAAAF,KAAQ,kBAAa,G,aAKhD,GACIG,KAAM,qBACNC,IAAAA,GACI,MAAO,CACHC,cAAe,KAEvB,EACAC,OAAAA,GACQC,KAAKC,mBACLC,aAAaC,WAAW,aACxBD,aAAaC,WAAW,mBACxBC,QAAQC,IAAI,6CAEZL,KAAKM,QAAQC,KAAK,YAGtB,MAAMC,EAAQN,aAAaO,QAAQ,aACnCL,QAAQC,IAAI,6BAA8BG,EAa9C,EACAE,QAAS,CACLT,cAAAA,GACI,MAAMU,EAAaT,aAAaO,QAAQ,mBAExC,GADAL,QAAQC,IAAI,iCAAkCM,IACzCA,EAAY,OAAO,EAExB,MAAMC,EAAM,IAAIC,KAChB,OAAOD,EAAM,IAAIC,KAAKF,EAC1B,EAEAhB,MAAAA,GAEIO,aAAaC,WAAW,aACxBD,aAAaC,WAAW,mBAExBC,QAAQC,IAAI,8DAGZL,KAAKM,QAAQC,KAAK,UACtB,I,UCpDR,MAAMO,GAA2B,OAAgB,EAAQ,CAAC,CAAC,SAAS,KAEpE,QFGE,GACElB,KAAM,YACNmB,WAAY,CACRC,mBAAkBA,IGR1B,MAAM,GAA2B,OAAgB,EAAQ,CAAC,CAAC,SAASC,KAEpE,O","sources":["webpack://goal-stats/./src/views/Dashboard.vue","webpack://goal-stats/./src/components/UsersAdmin.vue","webpack://goal-stats/./src/components/UsersAdmin.vue?201c","webpack://goal-stats/./src/views/Dashboard.vue?040e"],"sourcesContent":["<template>\r\n    <div>\r\n      <DashboardViewAdmin /> <!-- Componente que contiene el formulario de login -->\r\n    </div>\r\n  </template>\r\n  \r\n  <script>\r\n  // Importa el componente que contiene el formulario de Login\r\n  import DashboardViewAdmin from '@/components/UsersAdmin.vue'\r\n  \r\n  export default {\r\n    name: 'Dashboard',\r\n    components: {\r\n        DashboardViewAdmin\r\n    }\r\n  }\r\n  </script>\r\n  \r\n  <style scoped>\r\n\r\n  </style>","<template>\r\n    <h1>UsersAdmin</h1>\r\n    <a id=\"logout\" @click=\"logout\">Cerrar sesión</a>\r\n</template>\r\n<script>\r\n// import axios from 'axios';\r\n\r\nexport default {\r\n    name: 'DashboardViewAdmin',\r\n    data() {\r\n        return {\r\n            dashboardData: null\r\n        }\r\n    },\r\n    mounted() {\r\n        if (this.isTokenExpired()) {\r\n            localStorage.removeItem('authToken');\r\n            localStorage.removeItem('tokenExpiration');\r\n            console.log('El token ha expirado y ha sido eliminado.');\r\n      // Si ya hay un token válido, redirige al dashboard\r\n            this.$router.push('/login/'); // Asumiendo que usas Vue Router\r\n        }\r\n\r\n        const token = localStorage.getItem('authToken');\r\n        console.log('Sesion iniciada con token:', token);\r\n        /*\r\n        axios.get('/api/dashboard/', {\r\n        headers: {\r\n            Authorization: `Bearer ${token}`\r\n        }\r\n        })\r\n        .then(response => {\r\n            this.dashboardData = response.data;\r\n        })\r\n        .catch(error => {\r\n            console.error('Error al obtener los datos del dashboard:', error);\r\n        });*/\r\n    },\r\n    methods: {\r\n        isTokenExpired() {\r\n            const expiration = localStorage.getItem('tokenExpiration');\r\n            console.log('Fecha de expiración del token:', expiration);\r\n            if (!expiration) return true;\r\n\r\n            const now = new Date();\r\n            return now > new Date(expiration); // Retorna true si ya expiró\r\n        },\r\n\r\n        logout() {\r\n            // Elimina el token y la fecha de expiración de localStorage\r\n            localStorage.removeItem('authToken');\r\n            localStorage.removeItem('tokenExpiration');\r\n\r\n            console.log('El usuario ha cerrado sesión y el token ha sido destruido.');\r\n\r\n            // Redirige al usuario a la página de inicio de sesión\r\n            this.$router.push('/login/'); // Asegúrate de que la ruta sea correcta\r\n        }\r\n    }\r\n}\r\n</script>\r\n\r\n","import { render } from \"./UsersAdmin.vue?vue&type=template&id=e9138c0a\"\nimport script from \"./UsersAdmin.vue?vue&type=script&lang=js\"\nexport * from \"./UsersAdmin.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./Dashboard.vue?vue&type=template&id=cd78c902\"\nimport script from \"./Dashboard.vue?vue&type=script&lang=js\"\nexport * from \"./Dashboard.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["_createElementBlock","_createVNode","_component_DashboardViewAdmin","_Fragment","_createElementVNode","id","onClick","_cache","args","$options","logout","name","data","dashboardData","mounted","this","isTokenExpired","localStorage","removeItem","console","log","$router","push","token","getItem","methods","expiration","now","Date","__exports__","components","DashboardViewAdmin","render"],"sourceRoot":""}